<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pak-Tutor AI | Multi-Page Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <style>
        :root {
            --primary: #006633;
            --accent: #3DDC84;
            --bg: #f0f2f5;
            --surface: #ffffff;
        }

        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg); height: 100vh; display: flex; flex-direction: column; }

        /* Top Header */
        .app-header {
            height: 60px; background: var(--primary); color: white;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* Pages Container */
        .page { display: none; flex: 1; overflow-y: auto; padding: 20px; animation: fadeIn 0.3s ease; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* PAGE 1: LIBRARY */
        .library-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 20px; }
        .book-card { background: var(--surface); padding: 15px; border-radius: 12px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.05); cursor: pointer; border: 2px solid transparent; }
        .book-card:hover { border-color: var(--accent); transform: translateY(-5px); }
        .book-icon { font-size: 50px; color: var(--primary); margin-bottom: 10px; }

        /* PAGE 2: 3D READER */
        .reader-container { display: flex; flex-direction: column; align-items: center; height: 100%; }
        .book-3d { width: 90%; max-width: 800px; height: 80vh; background: #fffcf2; border-radius: 5px; display: flex; box-shadow: 0 10px 30px rgba(0,0,0,0.3); border-left: 15px solid var(--primary); }
        .page-side { flex: 1; padding: 30px; overflow-y: auto; line-height: 1.8; }
        .reader-tools { margin-top: 20px; display: flex; gap: 20px; }

        /* PAGE 3: NOTEBOOK & AI */
        .notebook-container { display: flex; gap: 20px; height: 80vh; }
        .ai-chat { flex: 1; background: var(--surface); border-radius: 15px; padding: 20px; display: flex; flex-direction: column; }
        .chat-display { flex: 1; overflow-y: auto; border: 1px solid #eee; padding: 10px; margin-bottom: 10px; border-radius: 8px; }
        .notes-area { flex: 1; background: var(--surface); border-radius: 15px; padding: 20px; }
        textarea { width: 100%; height: 90%; border: 1px solid #ddd; border-radius: 8px; padding: 15px; resize: none; font-size: 16px; background: #fff9e6; }

        /* Bottom Navigation Bar (Android Style) */
        .bottom-nav {
            height: 70px; background: var(--surface); border-top: 1px solid #ddd;
            display: flex; justify-content: space-around; align-items: center;
        }
        .nav-btn { background: none; border: none; color: #777; cursor: pointer; font-size: 12px; font-weight: bold; }
        .nav-btn i { font-size: 24px; display: block; margin-bottom: 4px; }
        .nav-btn.active { color: var(--primary); }

        /* Upload Button */
        .upload-btn { background: var(--accent); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <header class="app-header">
        <div style="font-size: 20px; font-weight: bold;"><i class="fas fa-user-graduate"></i> Pak-Tutor AI</div>
        <button class="upload-btn" onclick="document.getElementById('pdf-file').click()">
            <i class="fas fa-plus"></i> Upload PDF
        </button>
        <input type="file" id="pdf-file" hidden accept=".pdf">
    </header>

    <div id="library" class="page active">
        <h2><i class="fas fa-books"></i> My Library</h2>
        <div class="library-grid">
            <div class="book-card" onclick="openBook('Physics Class 9', 'Newtonâ€™s Laws of Motion. 1st Law: Inertia. 2nd Law: F=ma. 3rd Law: Action and Reaction.')">
                <i class="fas fa-atom book-icon"></i>
                <div>Physics 9</div>
            </div>
            <div class="book-card" onclick="openBook('Math Class 10', 'Quadratic Equations: ax^2 + bx + c = 0. Solving by factorization or formula.')">
                <i class="fas fa-calculator book-icon"></i>
                <div>Math 10</div>
            </div>
            <div class="book-card" onclick="openBook('Urdu Class 9', 'Ghalib ki Ghazalgoi. Mirza Ghalib Urdu adab ke azeem shayar hain.')">
                <i class="fas fa-pen-nib book-icon"></i>
                <div>Urdu 9</div>
            </div>
        </div>
    </div>

    <div id="reader" class="page">
        <div class="reader-container">
            <div class="book-3d">
                <div class="page-side" style="border-right: 1px solid #eee;">
                    <h2 id="r-title">Book Title</h2>
                    <p id="r-content">Select a book to read...</p>
                </div>
                <div class="page-side">
                    <p style="margin-top: 50px; color: #666;">AI is analyzing this page for better understanding...</p>
                    <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 20px;">
                        <strong>Quick Fact:</strong> <span id="r-fact">Important exam point will appear here.</span>
                    </div>
                </div>
            </div>
            <div class="reader-tools">
                <button class="upload-btn" onclick="startTTS()" style="background: var(--primary);"><i class="fas fa-volume-up"></i> Read Aloud</button>
                <button class="upload-btn" onclick="stopTTS()" style="background: #e74c3c;"><i class="fas fa-stop"></i> Stop</button>
            </div>
        </div>
    </div>

    <div id="notebook" class="page">
        <div class="notebook-container">
            <div class="ai-chat">
                <h3><i class="fas fa-robot"></i> AI Teacher Chat</h3>
                <div class="chat-display" id="chat">
                    <p><strong>AI:</strong> Assalam-o-Alaikum! Main apka tutor hoon. Is chapter mein kya cheez mushkil lag rahi hai?</p>
                </div>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="ai-input" placeholder="Ask a question..." style="flex:1; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
                    <button class="upload-btn" onclick="askAI()">Ask</button>
                </div>
            </div>
            <div class="notes-area">
                <h3><i class="fas fa-sticky-note"></i> My Study Notes</h3>
                <textarea placeholder="Write your chapter summary here..."></textarea>
            </div>
        </div>
    </div>

    <nav class="bottom-nav">
        <button class="nav-btn active" onclick="showPage('library', this)">
            <i class="fas fa-book-open"></i>Library
        </button>
        <button class="nav-btn" onclick="showPage('reader', this)">
            <i class="fas fa-glasses"></i>Reader
        </button>
        <button class="nav-btn" onclick="showPage('notebook', this)">
            <i class="fas fa-user-edit"></i>AI & Notes
        </button>
    </nav>

    <script>
        let synth = window.speechSynthesis;

        function showPage(pageId, btn) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update Nav Buttons
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function openBook(title, content) {
            document.getElementById('r-title').innerText = title;
            document.getElementById('r-content').innerText = content;
            document.getElementById('r-fact').innerText = "Exam key: This chapter carries 10 marks.";
            showPage('reader', document.querySelectorAll('.nav-btn')[1]);
        }

        function startTTS() {
            stopTTS();
            const text = document.getElementById('r-content').innerText;
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = text.match(/[^\x00-\x7F]/) ? 'ur-PK' : 'en-US';
            synth.speak(utter);
        }

        function stopTTS() { synth.cancel(); }

        function askAI() {
            const input = document.getElementById('ai-input');
            const chat = document.getElementById('chat');
            if(!input.value) return;
            chat.innerHTML += `<p><strong>You:</strong> ${input.value}</p>`;
            setTimeout(() => {
                chat.innerHTML += `<p style="color:var(--primary)"><strong>AI Teacher:</strong> Bohat acha sawal hai! Iska matlab ye hai ke...</p>`;
                chat.scrollTop = chat.scrollHeight;
            }, 600);
            input.value = "";
        }
    </script>
</body>
</html>